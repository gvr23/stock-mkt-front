(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{513:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(62),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(151),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(239),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(82),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(83),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(85),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(86),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__),react_redux__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(50),axios__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(152),axios__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_11__),_components_AdaptableImg__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(518),_actions__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(26),_components_Button__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(110),_components_Icon__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(153),_components_Card__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(519),_components_Input__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(238),_selectors_stocks__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(154),_utils__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(111),react_notifications_component__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(112),react_notifications_component__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(react_notifications_component__WEBPACK_IMPORTED_MODULE_20__),enterModule;function ownKeys(e,_){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);_&&(a=a.filter((function(_){return Object.getOwnPropertyDescriptor(e,_).enumerable}))),t.push.apply(t,a)}return t}function _objectSpread(e){for(var _=1;_<arguments.length;_++){var t=null!=arguments[_]?arguments[_]:{};_%2?ownKeys(t,!0).forEach((function(_){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(e,_,t[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(t).forEach((function(_){Object.defineProperty(e,_,Object.getOwnPropertyDescriptor(t,_))}))}return e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Transactions=function(_Component){function Transactions(e){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this,Transactions),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Transactions).call(this,e))}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(Transactions,_Component),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(Transactions,[{key:"render",value:function(){var e=this,_=this.props.showTransactions;return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_9___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{onClick:this.props.onClose,className:"_overlay".concat(_?" show":"")}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{style:{height:.6*(window.innerHeight-(document.querySelector("#navbar")||{}).clientHeight)},className:"_transactions_bottom".concat(this.props.showTransactions?" show":"")},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("nav",{id:"middle-navbar",style:{position:"absolute",top:0,left:0,width:"100%"},className:"navbar is-primary",role:"navigation","aria-label":"main navigation"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"navbar-brand"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("a",{className:"navbar-item",href:"#"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("h1",{className:"has-text-weight-bold"},"Transacciones realizadas")),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("a",{role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",{"aria-hidden":"true"}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",{"aria-hidden":"true"}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",{"aria-hidden":"true"}))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"navbar-end"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"navbar-item"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"buttons"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_14__.a,{onClick:this.props.onClose,style:{color:"#fff",borderColor:"#fff"},className:"is-primary is-outlined",text:react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",null,"Cerrar")}))))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"_container"},this.props.transactions.length>0?this.props.transactions.map((function(_){var t=e.props.stockList[_.stock_uuid].price,a=_.stock_price.close_price,r=_.is_buy;return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"_transaction",key:_.uuid},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"left"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_AdaptableImg__WEBPACK_IMPORTED_MODULE_12__.a,{src:e.props.stockList[_.stock_uuid].companylogo})),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"right"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",null,"Fecha y hora de transaccion: ",react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("b",null,_.created_at)),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",null,"Estado: ",react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("b",null,_.status)),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",null,"Moneda: ",react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("b",null,"USD"==_.stock.currency?"Dólares":"Soles")),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",null,"Cantidad de acciones: ",react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("b",null,_.quantity)),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",null,"Precio al momento de ",r?"compra":"venta",": ",react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("b",null,a.toFixed(2)," ",_.stock.currency)),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("hr",null),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",null,"Monto ",r?"pagado":"recibido",": ",react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("b",null,Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)((_.quantity*a).toFixed(2))," ",_.stock.currency)),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"".concat(r?"buy":"sell")},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_14__.a,{style:{},className:"is-primary is-outlined",text:react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",null,r?"COMPRA":"VENTA")}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_14__.a,{className:"is-primary is-outlined".concat(!r&&a>t||r&&t>a?" is-win":r&&t<a||!r&&a<t?" is-lose":" is-draw"),text:react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Icon__WEBPACK_IMPORTED_MODULE_15__.a,{style:{marginRight:15},name:"".concat(!r&&a>t||r&&t>a?"arrow-circle-up":r&&t<a||!r&&a<t?"arrow-circle-down":"equals")}),"      VA: ".concat(t.toFixed(2)))}))))})):react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"columns"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"column is-5"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"message-header notification is-link",style:{marginTop:"1%",marginLeft:"2%",marginBottom:"1%",backgroundColor:"#1A2E8F"}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",null,"No se encuentran transacciones registradas en este momento")))))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Transactions}(react__WEBPACK_IMPORTED_MODULE_9__.Component),Modal=function(e){var _=e.children,t=e.closeModal,a=e.modalState,r=e.title;return a?react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"modal is-active"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"modal-background",onClick:t}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"modal-card"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("header",{className:"modal-card-head",style:{backgroundColor:"#371E9E"}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",{className:"modal-card-title",style:{color:"white"}},r),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("button",{className:"delete",onClick:t})),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("section",{className:"modal-card-body"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"content"},_)),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("footer",{className:"modal-card-foot",style:{backgroundColor:"#371E9E"}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"control",style:{marginRight:"2%"}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("button",{onClick:t,className:"button is-danger"},"Cerrar"))))):null},LeftSideBar=function(_Component2){function LeftSideBar(e){var _;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this,LeftSideBar),_=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(LeftSideBar).call(this,e)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_),"_onScrollSideBuy",(function(){_.sideSellRef.current&&_.sideSellRef.current.scrollTo(0,0)})),_.state={quantity:"",isSelling:!1,error:void 0},_.sideSellRef=Object(react__WEBPACK_IMPORTED_MODULE_9__.createRef)(),_}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(LeftSideBar,_Component2),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(LeftSideBar,[{key:"componentDidMount",value:function(){console.log("MOUNTED")}},{key:"changeState",value:function(e){this.setState(_objectSpread({},e))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return this.setState({isSelling:!1});this.setState({quantity:"",isSelling:!1})}},{key:"getQuantity",value:function(){return parseInt(this.state.quantity)}},{key:"getTotal",value:function(){var e=this.props,_=e.stockList,t=e.stockToSell,a=parseInt(this.state.quantity||0)*parseFloat((_[t]||{}).price);return a-a*this.props.comission}},{key:"render",value:function(){var e=this,_=this.props,t=_.show,a=_.stockToSell,r=_.stockList,n=_.balance,s=parseInt(this.state.quantity||0)*parseFloat((r[a]||{}).price),l=s*this.props.comission,c=s-l,o=n+c,i=n+c/this.props.exchangeRate;return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_9___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{onClick:function(){e.state.isSelling||e.setState({isSelling:!1,error:void 0},(function(){e.props.onClose()}))},className:"_overlay".concat(t?" show":"")}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"_sell_bar".concat(t?" show":""),style:{}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"header"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Icon__WEBPACK_IMPORTED_MODULE_15__.a,{onClick:function(){e.setState({error:void 0},(function(){e.props.onClose()}))},className:"fa-2x",name:"times"})),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{ref:this.sideSellRef,className:"content",style:{maxHeight:window.innerHeight-(document.querySelector("#navbar")||{}).clientHeight||0}},void 0!==a&&react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:""},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"_stock is-full-width"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"left"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_AdaptableImg__WEBPACK_IMPORTED_MODULE_12__.a,{src:r[a].companylogo})),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"right"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("h2",null,r[a].companyname),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("h3",null,r[a].price," ",r[a].currency),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Icon__WEBPACK_IMPORTED_MODULE_15__.a,{className:"fa-2x".concat(r[a].changePercent>0?" has-text-success":" has-text-danger"),name:r[a].changePercent>0?"arrow-circle-up":"arrow-circle-down"}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",{className:"value".concat(r[a].changePercent>0?" has-text-success":" has-text-danger")},r[a].changePercent," % ")))),void 0!==a&&react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("form",null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",{className:"has-text-centered is-fullwidth"},"Actualizada por última vez el ",r[a].timestamp),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"_holdings"},"Tienes ",react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("b",null,this.props.holdings[a])," acciones valorizadas en ",react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("b",null,Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)((this.props.holdings[a]*r[a].price).toFixed(2))," ",r[a].currency)," para vender"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_17__.a,{onChange:function(_){return e.setState({error:void 0,quantity:_.target.value.replace(/[^0-9]+/g,"")},(function(){e.state.quantity>e.props.holdings[a]&&e.setState({error:"No tienes suficientes acciones para vender"})}))},error:this.state.error,placeholder:"Cantidad de acciones",value:this.state.quantity,extra:react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_14__.a,{onClick:function(_){_.preventDefault(),e.setState({error:void 0,quantity:e.props.holdings[a]})},className:"is-primary is-input-addon",text:react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",null,"Todo")})}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("small",null,"Valor de acciones a vender"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_17__.a,{readOnly:!0,value:r[a].currency+"  "+Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)(s.toFixed(2))+("PEN"===r[a].currency?" >>  ".concat((s/this.props.exchangeRate).toFixed(2)," USD"):""),onChange:function(){},disabled:!0,noPadding:!0}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("small",null,"Comisión de venta"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_17__.a,{readOnly:!0,value:r[a].currency+"  "+Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)(l.toFixed(2))+("PEN"===r[a].currency?" >>  ".concat((l/this.props.exchangeRate).toFixed(2)," USD"):""),onChange:function(){},disabled:!0,noPadding:!0}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("small",null,"Total a recibir"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_17__.a,{readOnly:!0,value:r[a].currency+"  "+Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)(c.toFixed(2))+("PEN"===r[a].currency?" >>  ".concat((c/this.props.exchangeRate).toFixed(2)," USD"):""),onChange:function(){},disabled:!0,noPadding:!0}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("hr",null),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("small",null,"Nuevo balance al finalizar venta"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_17__.a,{className:this.state.quantity>this.props.holdings[a]?"error":"success",readOnly:!0,value:"USD  "+Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)(("PEN"===r[a].currency?i:o).toFixed(2)),onChange:function(){},disabled:!0}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_14__.a,{isLoading:this.state.isSelling,isConfirm:!0,textConfirm:"Click para confirmar venta",disabled:this.state.isSelling||"string"==typeof this.state.error,onClick:function(_){_&&_.preventDefault(),e.setState({isSelling:!0},(function(){e.props.onSubmitSell()}))},className:"is-primary is-fullwidth",text:"Vender"})))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),LeftSideBar}(react__WEBPACK_IMPORTED_MODULE_9__.Component),SideBar=function(_Component3){function SideBar(e){var _;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this,SideBar),_=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(SideBar).call(this,e)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_),"_onScrollSideBuy",(function(){_.sideBuyRef.current&&_.sideBuyRef.current.scrollTo(0,0)})),_.state={quantity:"",isBuying:!1},_.sideBuyRef=Object(react__WEBPACK_IMPORTED_MODULE_9__.createRef)(),_._onScrollSideBuy.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_)),_}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(SideBar,_Component3),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(SideBar,[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return this.setState({isBuying:!1});this.setState({quantity:"",isBuying:!1})}},{key:"getQuantity",value:function(){return parseInt(this.state.quantity)}},{key:"getTotal",value:function(){var e=this.props,_=e.stockList,t=e.stockToBuy,a=parseInt(this.state.quantity||0)*parseFloat((_[t]||{}).price);return a+a*this.props.comission}},{key:"render",value:function(){var e=this,_=this.props,t=_.show,a=_.stockToBuy,r=_.stockList,n=_.balance,s=parseInt(this.state.quantity||0)*parseFloat((r[a]||{}).price),l=s*this.props.comission,c=s+l,o=n-c,i=n-c/this.props.exchangeRate;return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_9___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{onClick:function(){e.state.isBuying||e.setState({isBuying:!1},(function(){e.props.onClose()}))},className:"_overlay".concat(t?" show":"")}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"_buy_bar".concat(t?" show":""),style:{}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"header"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Icon__WEBPACK_IMPORTED_MODULE_15__.a,{onClick:this.props.onClose,className:"fa-2x",name:"times"})),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{ref:this.sideBuyRef,className:"content",style:{maxHeight:window.innerHeight-(document.querySelector("#navbar")||{}).clientHeight||0}},void 0!==a&&react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:""},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"_stock is-full-width"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"left"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_AdaptableImg__WEBPACK_IMPORTED_MODULE_12__.a,{src:r[a].companylogo})),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"right"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("h2",null,r[a].companyname),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("h3",null,r[a].price," ",r[a].currency),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Icon__WEBPACK_IMPORTED_MODULE_15__.a,{className:"fa-2x".concat(r[a].changePercent>0?" has-text-success":" has-text-danger"),name:r[a].changePercent>0?"arrow-circle-up":"arrow-circle-down"}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",{className:"value".concat(r[a].changePercent>0?" has-text-success":" has-text-danger")},r[a].changePercent," % ")))),void 0!==a&&react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("form",null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",{className:"has-text-centered is-fullwidth"},"Actualizada por última vez el ",r[a].timestamp),"PEN"===r[a].currency?react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_9___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("small",null,"Tipo de cambio"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_17__.a,{editable:"false",disabled:!0,value:"".concat(this.props.exchangeRate," PEN")})):react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_17__.a,{onChange:function(_){return e.setState({quantity:_.target.value.replace(/[^0-9]+/g,"")})},error:this.props.error,placeholder:"Cantidad de acciones",value:this.state.quantity.toString()}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("small",null,"Valor de acciones a comprar"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_17__.a,{readOnly:!0,value:r[a].currency+"  "+Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)(s.toFixed(2))+("PEN"===r[a].currency?" >>  ".concat((s/this.props.exchangeRate).toFixed(2)," USD"):""),onChange:function(){},disabled:!0,noPadding:!0}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("small",null,"Comisión de compra"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_17__.a,{readOnly:!0,value:r[a].currency+"  "+Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)(l.toFixed(2))+("PEN"===r[a].currency?" >> ".concat((l/this.props.exchangeRate).toFixed(2)," USD"):""),onChange:function(){},disabled:!0,noPadding:!0}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("small",null,"Total a pagar"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_17__.a,{readOnly:!0,value:r[a].currency+"  "+Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)(c.toFixed(2))+("PEN"===r[a].currency?" >> ".concat(Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)((c/this.props.exchangeRate).toFixed(2))," USD"):""),onChange:function(){},disabled:!0,noPadding:!0}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("hr",null),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("small",null,"Nuevo balance al finalizar compra"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_17__.a,{className:"USD"===r[a].currency&&o<0||"PEN"===r[a].currency&&i<0?"error":"success",readOnly:!0,value:"USD  "+Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)(("PEN"===r[a].currency?i:o).toFixed(2)),onChange:function(){},disabled:!0}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_14__.a,{isLoading:this.state.isBuying,isConfirm:!0,textConfirm:"Click para confirmar compra",disabled:this.state.isBuying,onClick:function(_){_&&_.preventDefault(),e.setState({isBuying:!0},(function(){e.props.onSubmitBuy(_)}))},className:"is-primary is-fullwidth",text:"Comprar"})))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SideBar}(react__WEBPACK_IMPORTED_MODULE_9__.Component),Home=function(_Component4){function Home(e){var _;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this,Home),_=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Home).call(this,e)),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_),"_scroll",(function(){_.myRef.current&&_.myRef.current.scrollTo(0,0)})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_),"getNewsFromOneStock",(function(e){var t=[];Object.keys(_.props.news).reduce((function(a,r){var n=!0;_.props.news[r].filter((function(_,a){_.stockUUID===e&&(n&&(t.push(react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("article",{className:"tile is-rounded",style:{marginBottom:"3%",backgroundColor:"#6543C8",padding:"2%"}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",{className:"subtitle",style:{color:"white"}},"OLD"===String(r).toUpperCase()?"NOTICIAS ANTIGUAS":String(r).toUpperCase().replace(/_/gi," ")))),n=!1),t.push(react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("article",{className:"message is-link",style:{marginBottom:"1.5%"}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"message-body"},_.new))))})),n=!0}),[]),_.setState({news:t})})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_),"getTotal",(function(){var e=Object.keys(_.props.holdings).reduce((function(e,t){return e+=_.state.filtered_companies[t].price*_.props.holdings[t]}),0).toFixed(2),t=parseFloat(e)+parseFloat(_.props.balance);return Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)(t)})),_.state={loading:!0,showBuy:!1,errorBuy:void 0,stockToBuy:void 0,stockToSell:void 0,showSell:!1,sellAll:!1,showTransactions:!1,modalState:!1,news:[],filtered_companies:null},_.myRef=Object(react__WEBPACK_IMPORTED_MODULE_9__.createRef)(),_.toggleModal=_.toggleModal.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_)),_.onSubmitBuy=_.onSubmitBuy.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_)),_.onSubmitSell=_.onSubmitSell.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_)),_}var _componentDidMount;return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(Home,_Component4),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(Home,[{key:"componentDidMount",value:(_componentDidMount=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(){var _,t;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios__WEBPACK_IMPORTED_MODULE_11___default.a.post("http://localhost:5015/graph",{query:'{\n                transactions(user_uuid: "'.concat(this.props.userUUID,'") {\n                    uuid\n                    status\n                    stock_uuid\n                    stock_price_uuid\n                    user_uuid\n                    created_at(format: "DD/MM/YYYY HH:mm")\n                    updated_at(format: "DD/MM/YYYY HH:mm")\n                    is_buy\n                    is_sell\n                    quantity\n                    comission\n                    comission_rate\n                    total\n                    stock_price {\n                    close_price\n                    }\n                    stock {\n                    name\n                    description\n                    companyname\n                    currency\n                    }\n                }\n                                    \n                holdings(user_uuid: "').concat(this.props.userUUID,'") {\n                    stock_uuid\n                    user_uuid\n                    quantity\n                    user {\n                      uuid\n                      uuid\n                    }\n                    stock {\n                      uuid\n                      name\n                      description\n                      companyname\n                      quantity\n                      currency\n                      last_price {\n                        close_price\n                        change_price\n                        change_percent\n                      }\n                    }\n                  }\n              }\n              ')});case 2:_=e.sent,(t=_.data).errors||(this.props.setHoldings(t.data.holdings),this.props.setTransactions(t.data.transactions)),this.setState({loading:!1});case 6:case"end":return e.stop()}}),e,this)}))),function(){return _componentDidMount.apply(this,arguments)})},{key:"toggleModal",value:function(){this.setState((function(e,_){return{modalState:!e.modalState}}))}},{key:"onSubmitBuy",value:function(e){var _=this;return this.setState({errorBuy:void 0},_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(){var t,a,r,n,s,l;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_.sideBar.getQuantity(),!isNaN(t)&&0!=t){e.next=4;break}return _.sideBar.reset(!0),e.abrupt("return",_.setState({errorBuy:"Ingresa la cantidad de acciones"},(function(){return _.sideBar._onScrollSideBuy()})));case 4:if(a=_.sideBar.getTotal(),!("USD"===(r=_.props.stockList[_.state.stockToBuy].currency)&&a<1500||"PEN"===r&&a<5025)){e.next=9;break}return _.sideBar.reset(!0),e.abrupt("return",_.setState({errorBuy:"Minima compra: 1500.00 USD o 5025.00 PEN"},(function(){return _.sideBar._onScrollSideBuy()})));case 9:if(n=_.props.balance,!("USD"===r&&n<a||"PEN"===r&&n<a/_.props.exchangeRate)){e.next=13;break}return _.sideBar.reset(!0),e.abrupt("return",_.setState({errorBuy:"No tienes fondos suficientes para esta compra"},(function(){return _.sideBar._onScrollSideBuy()})));case 13:return e.next=15,axios__WEBPACK_IMPORTED_MODULE_11___default.a.post("http://localhost:5015/graph",{query:'mutation{\n                    buyOrSell(\n                      user_uuid: "'.concat(_.props.userUUID,'"\n                      stock_uuid: "').concat(_.state.stockToBuy,'"\n                      stock_price_uuid: "').concat(_.props.stockList[_.state.stockToBuy].priceUUID,'"\n                      is_buy: true\t\t\n                      quantity: ').concat(t,'\n                    ){\n                      uuid\n                      status\n                      stock_uuid\n                      stock_price_uuid\n                      user_uuid\n                      created_at(format: "DD/MM/YYYY HH:mm")\n                      updated_at(format: "DD/MM/YYYY HH:mm")\n                      is_buy\n                      is_sell\n                      comission\n                      total\n                      quantity\n                      stock_price {\n                        close_price\n                      }\n                      stock {\n                        name\n                        description\n                        companyname\n                        currency\n                      }\n                    }\n                  }')});case 15:s=e.sent,(l=s.data).errors||_.setState({showBuy:!1},(function(){if(!l.data.buyOrSell)return react_notifications_component__WEBPACK_IMPORTED_MODULE_20__.store.addNotification({title:"Error",message:"Hubo un error en la compra",type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}});_.sideBar.reset(),_.props.addTransacction(l.data.buyOrSell),react_notifications_component__WEBPACK_IMPORTED_MODULE_20__.store.addNotification({title:"Transacción exitosa",message:"Se compraron ".concat(t," acciones de ").concat(_.props.stockList[_.state.stockToBuy].companyname),type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}})}));case 18:case"end":return e.stop()}}),e)}))))}},{key:"renderStocks",value:function(e){var _=this;return Object.keys(e).map((function(t){return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Card__WEBPACK_IMPORTED_MODULE_16__.a,{onBuy:function(){return _.setState({showBuy:!0,stockToBuy:t})},key:t,item:e[t],stockUUID:t,showModal:_.toggleModal,getNews:_.getNewsFromOneStock})}))}},{key:"onSubmitSell",value:function(e){var _=this;this.leftSideBar.setState({error:void 0},_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(){var t,a,r,n,s,l;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_.leftSideBar.getQuantity(),!isNaN(t)&&0!=t){e.next=4;break}return _.leftSideBar.reset(!0),e.abrupt("return",_.leftSideBar.setState({error:"Ingresa la cantidad de acciones a vender"},(function(){return _.leftSideBar._onScrollSideBuy()})));case 4:if(!(_.props.holdings[_.state.stockToSell]<t)){e.next=7;break}return _.leftSideBar.reset(!0),e.abrupt("return",_.leftSideBar.setState({error:"No tienes suficientes acciones para vender"},(function(){return _.leftSideBar._onScrollSideBuy()})));case 7:if(a=_.leftSideBar.getTotal(),r=_.props.holdings[_.state.stockToSell]*_.props.stockList[_.state.stockToSell].price,r-=r*_.props.comission,!("USD"===(n=_.props.stockList[_.state.stockToSell].currency)&&a<1500&&r>=1500||"PEN"===n&&a<5025&&r>=5025)){e.next=14;break}return _.leftSideBar.reset(!0),e.abrupt("return",_.leftSideBar.setState({error:"Mínima venta: 1500 USD o 5025 PEN"},(function(){return _.leftSideBar._onScrollSideBuy()})));case 14:return e.next=16,axios__WEBPACK_IMPORTED_MODULE_11___default.a.post("http://localhost:5015/graph",{query:'mutation{\n                    buyOrSell(\n                      user_uuid: "'.concat(_.props.userUUID,'"\n                      stock_uuid: "').concat(_.state.stockToSell,'"\n                      stock_price_uuid: "').concat(_.props.stockList[_.state.stockToSell].priceUUID,'"\n                      is_buy: false\t\t\n                      quantity: ').concat(t,'\n                    ){\n                      uuid\n                      status\n                      stock_uuid\n                         stock_price_uuid\n                      user_uuid\n                      created_at(format: "DD/MM/YYYY HH:mm")\n                      updated_at(format: "DD/MM/YYYY HH:mm")\n                      is_buy\n                      is_sell\n                      comission\n                      total\n                      quantity\n                      stock_price {\n                        close_price\n                      }\n                      stock {\n                        name\n                        description\n                        companyname\n                        currency\n                      }\n                    }\n                  }')});case 16:s=e.sent,(l=s.data).errors||_.setState({showSell:!1},(function(){if(!l.data.buyOrSell)return react_notifications_component__WEBPACK_IMPORTED_MODULE_20__.store.addNotification({title:"Error",message:"Ubo un error en la compra",type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}});_.leftSideBar.reset(),_.props.addTransacction(l.data.buyOrSell),react_notifications_component__WEBPACK_IMPORTED_MODULE_20__.store.addNotification({title:"Transacción exitosa",message:"Se vendieron ".concat(t," acciones de ").concat(_.props.stockList[_.state.stockToSell].companyname),type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}})}));case 19:case"end":return e.stop()}}),e)}))))}},{key:"renderNews",value:function(){var e=this,_=[];return Object.keys(this.props.news).map((function(t,a){console.log("hey this is the index, ",a),_.push(react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{key:t,className:"message-header notification is-link ".concat(0===a?"newNews":null),style:{marginTop:"1%",marginBottom:"1%",backgroundColor:"#1A2E8F"}},"OLD"===String(t).toUpperCase()?0===e.props.news.old.length?"NO HAY NOTICIAS":"NOTICIAS ANTIGUAS":String(t).toUpperCase().replace(/_/gi," "))),e.props.news[t].forEach((function(e,a){_.push(react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{key:"".concat(t,"-").concat(a),className:"message-body notification is-link",style:{backgroundColor:"#371E9E"}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",null,e.new)))}))})),_}},{key:"render",value:function(){var e=this;this._scroll();var _=this.state.filtered_companies;return this.state.loading||!this.props.connected?react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"pageloader is-active is-primary"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",{className:"title"},"Conectando...")):react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:window.innerHeight-(document.querySelector("#navbar")||{}).clientHeight}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{style:{flex:"4 1",display:"flex",flexDirection:"column",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start",overflowX:"scroll"}},this.renderStocks(_)),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{style:{flex:"6 1",display:"flex",flexDirection:"row",maxHeight:"60%",position:"relative",paddingTop:40}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("nav",{id:"middle-navbar",style:{position:"absolute",top:0,left:0,width:"100%"},className:"navbar is-primary",role:"navigation","aria-label":"main navigation"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"navbar-brand"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("a",{className:"navbar-item",href:"#"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("h1",{className:"has-text-weight-bold"},"Portafolio de usuario")),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("a",{role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",{"aria-hidden":"true"}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",{"aria-hidden":"true"}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",{"aria-hidden":"true"}))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"navbar-end"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"navbar-item"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"buttons"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_14__.a,{onClick:function(){return e.setState({showTransactions:!0})},style:{color:"#fff",borderColor:"#fff"},className:"is-primary is-outlined",text:react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",null,"Ver transacciones")}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_14__.a,{style:{color:"#fff",borderColor:"#fff",cursor:"default"},className:"is-primary is-outlined",text:react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",null,"Valor de acciones: ",react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("b",null,Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)(Object.keys(this.props.holdings).reduce((function(t,a){return t+=_[a].price*e.props.holdings[a]}),0).toFixed(2)))," USD")}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_14__.a,{style:{color:"#fff",borderColor:"#fff",cursor:"default"},className:"is-primary is-outlined",text:react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",null,"Total: ",react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("b",null,this.getTotal())," USD")}))))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"holdings"},0==Object.keys(this.props.holdings).length?react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{style:{flex:"1 1",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("h1",{style:{fontSize:"2rem"}},"No haz realizado ninguna compra aún.")):Object.keys(this.props.holdings).map((function(t){var a=e.props.holdings[t],r=_[t],n=r.price,s=r.changePercent,l=r.currency;return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{key:t,className:"holding"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"left"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_AdaptableImg__WEBPACK_IMPORTED_MODULE_12__.a,{src:r.companylogo})),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"center"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"left"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("strong",{style:{fontWeight:600}}," ",r.companyname),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("small",{className:"has-text-centered"},"Tienes ",react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("b",{style:{fontWeight:700}},a)," acciones de esta empresa.")),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"right"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Icon__WEBPACK_IMPORTED_MODULE_15__.a,{className:"fa-3x".concat(s>0?" has-text-success":" has-text-danger"),name:s>0?"arrow-circle-up":"arrow-circle-down"}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",{className:"value".concat(s>0?" has-text-success":" has-text-danger")},s," % "))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"right"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",{className:"price".concat(s>0?" has-text-success":" has-text-danger")},n," ",l," / Acción"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_14__.a,{style:{marginTop:10},onClick:function(){return e.setState({showSell:!0,stockToSell:t,sellAll:!1},(function(_){return e.leftSideBar.setState({quantity:""})}))},className:"is-primary is-outlined is-medium is-fullwidth",dangerouslySetInnerHTML:{__html:'Vender por <b style="margin:0px 5px">'.concat(parseFloat(n).toFixed(2),"</b> ").concat(l," C/U")}}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_14__.a,{onClick:function(){return e.setState({showSell:!0,stockToSell:t,sellAll:!0},(function(_){return e.leftSideBar.setState({quantity:"".concat(a)})}))},style:{marginTop:10},className:"".concat(s>0?"is-success":"is-danger"," is-medium is-fullwidth"),dangerouslySetInnerHTML:{__html:'Todo por <b style="margin:0px 5px">'.concat(Object(_utils__WEBPACK_IMPORTED_MODULE_19__.a)((n*a).toFixed(2),!0)+" ","</b> ").concat(l)}})))}))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{style:{flex:1}},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{style:{flex:"1 1",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},0===this.props.news.length&&react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("h1",{style:{fontSize:"2rem"}},"Aquí se mostrarán las noticias."),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{ref:this.myRef,style:{display:"flex",flexDirection:"column",padding:20,overflowY:"scroll",maxHeight:"100%"}},this.renderNews())))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(LeftSideBar,{sellAll:this.state.sellAll,balance:this.props.balance,holdings:this.props.holdings,ref:function(_){e.leftSideBar=_},onClose:function(){return e.setState({showSell:!1})},show:this.state.showSell,stockToSell:this.state.stockToSell,stockList:_,onSubmitSell:this.onSubmitSell,comission:this.props.comission,exchangeRate:this.props.exchangeRate,addTransacction:this.props.addTransacction}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(SideBar,{error:this.state.errorBuy,balance:this.props.balance,ref:function(_){e.sideBar=_},onClose:function(){return e.setState({showBuy:!1})},show:this.state.showBuy,stockToBuy:this.state.stockToBuy,stockList:_,onSubmitBuy:this.onSubmitBuy,comission:this.props.comission,addTransacction:this.props.addTransacction,exchangeRate:this.props.exchangeRate}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Transactions,{stockList:_,transactions:this.props.transactions,showTransactions:this.state.showTransactions,onClose:function(){return e.setState({showTransactions:!1})},comission:this.props.comission,exchangeRate:this.props.exchangeRate}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Modal,{closeModal:this.toggleModal,modalState:this.state.modalState,title:"Noticias"},this.state.news.length>0?this.state.news.map((function(e){return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",null,e)})):react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p",{className:"message-header"},"No existen noticias para esta acción")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"getDerivedStateFromProps",value:function(e,_){return""===e.filter?{filtered_companies:e.stockList}:{filtered_companies:Object.values(e.stockList).filter((function(_){return new RegExp(e.filter,"gi").test(_.companyname+" "+_.name)}))}}}]),Home}(react__WEBPACK_IMPORTED_MODULE_9__.Component),mapStateToProps=function(e){var _=e.stocks.holdings;return{stockList:Object(_selectors_stocks__WEBPACK_IMPORTED_MODULE_18__.b)(e),userUUID:e.app.userUUID,balance:e.app.balance,comission:e.app.comission,exchangeRate:e.app.exchangeRate,holdings:_,connected:e.stocks.connected,transactions:e.stocks.transactions,news:e.app.news,filter:e.app.filter}},_default=Object(react_redux__WEBPACK_IMPORTED_MODULE_10__.c)(mapStateToProps,{setStocks:_actions__WEBPACK_IMPORTED_MODULE_13__.m,upsertHolding:_actions__WEBPACK_IMPORTED_MODULE_13__.q,setTransactions:_actions__WEBPACK_IMPORTED_MODULE_13__.n,logInUser:_actions__WEBPACK_IMPORTED_MODULE_13__.d,setHoldings:_actions__WEBPACK_IMPORTED_MODULE_13__.i,addTransacction:_actions__WEBPACK_IMPORTED_MODULE_13__.b})(Home),reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Transactions,"Transactions","/Users/gustavo/Desktop/Gustavo/StockMarket/src/containers/Home/index.jsx"),reactHotLoader.register(Modal,"Modal","/Users/gustavo/Desktop/Gustavo/StockMarket/src/containers/Home/index.jsx"),reactHotLoader.register(LeftSideBar,"LeftSideBar","/Users/gustavo/Desktop/Gustavo/StockMarket/src/containers/Home/index.jsx"),reactHotLoader.register(SideBar,"SideBar","/Users/gustavo/Desktop/Gustavo/StockMarket/src/containers/Home/index.jsx"),reactHotLoader.register(Home,"Home","/Users/gustavo/Desktop/Gustavo/StockMarket/src/containers/Home/index.jsx"),reactHotLoader.register(mapStateToProps,"mapStateToProps","/Users/gustavo/Desktop/Gustavo/StockMarket/src/containers/Home/index.jsx"),reactHotLoader.register(_default,"default","/Users/gustavo/Desktop/Gustavo/StockMarket/src/containers/Home/index.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(14)(module))}}]);